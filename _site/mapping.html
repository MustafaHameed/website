<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Adjusting view</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
#TOC {
  display: none !important;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Business Process Analysis in R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="getting_started.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    I/O
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="creating_eventlogs.html">Creating event logs</a>
    </li>
    <li>
      <a href="getting_info.html">Getting event log info</a>
    </li>
    <li>
      <a href="read_xes.html">XES-files</a>
    </li>
    <li>
      <a href="eventdataR.html">Event Data Repository</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Preprocessing
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="subsetting.html">Subsetting</a>
    </li>
    <li>
      <a href="aggregating.html">Aggregating</a>
    </li>
    <li>
      <a href="enriching.html">Enriching</a>
    </li>
    <li>
      <a href="wrangling.html">Wrangling</a>
    </li>
    <li>
      <a href="mapping.html">Adjusting view</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    EDA
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="exploring.html">Describing event data</a>
    </li>
    <li>
      <a href="processmaps.html">Creating Process Maps</a>
    </li>
    <li>
      <a href="precedence.html">Precedence Matrices</a>
    </li>
    <li>
      <a href="dotted_chart.html">Dotted charts</a>
    </li>
    <li>
      <a href="trace_explorer.html">Trace explorer</a>
    </li>
    <li>
      <a href="social_networks.html">Social network analysis</a>
    </li>
  </ul>
</li>
<li>
  <a href="processmonitR.html">Dashboards</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Reference
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="http://gertjanssenswillen.github.io/bupaR/reference/index.html">bupaR</a>
    </li>
    <li>
      <a href="http://gertjanssenswillen.github.io/edeaR/reference/index.html">edeaR</a>
    </li>
    <li>
      <a href="http://gertjanssenswillen.github.io/eventdataR/reference/index.html">eventdataR</a>
    </li>
    <li>
      <a href="http://gertjanssenswillen.github.io/processmapR/reference/index.html">processmapR</a>
    </li>
    <li>
      <a href="http://gertjanssenswillen.github.io/processmonitR/reference/index.html">processmonitR</a>
    </li>
    <li>
      <a href="http://gertjanssenswillen.github.io/petrinetR/reference/index.html">petrinetR</a>
    </li>
    <li>
      <a href="http://gertjanssenswillen.github.io/xesreadR/reference/index.html">xesreadR</a>
    </li>
  </ul>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Adjusting view</h1>

</div>


<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-92605173-2', 'auto');
ga('send', 'pageview');

</script>
<p>The <em>view</em> of an event log is defined by the different variables which are mapped onto the specific characteristics:</p>
<ul>
<li>case identifier (<code>case_id</code>)</li>
<li>activity information
<ul>
<li>activity type (<code>activity_id</code>)</li>
<li>activity instance (<code>activity_instance_id</code>)</li>
<li>transaction status (<code>lifecycle_id</code>)</li>
</ul></li>
<li>timestamp (<code>timestamp</code>)</li>
<li>resource (<code>resource</code>)</li>
</ul>
<p>More information on these characteristics can be found <a href="http://bupar.net/creating_eventlogs.html">here</a>. Each of these can be modified to approach the event log from a different view. This can be done using the <code>eventlog</code>-function, auxiliary <code>set</code>-functions or using an existing mapping.</p>
<div id="using-eventlog-function" class="section level2">
<h2>Using <code>eventlog</code> function</h2>
<p>The <code>eventlog</code> function is not only used to instantiate and event log object, but can also be used to modify it, by using an event log object as input and setting just the identifiers one wants to change.</p>
<p>For example, consider the <code>traffic_fines</code> data. We could change to <code>case_id</code> to the “vehicleclass” column as follows. (This is a purely hypothetical example). You will see that the number of cases has changed after this modification.</p>
<pre class="r"><code>traffic_fines %&gt;%
    eventlog(case_id = &quot;vehicleclass&quot;)</code></pre>
<pre><code>## Event log consisting of:
## 34724 events
## 4 traces
## 4 cases
## 11 activities
## 34724 activity instances
## 
## # A tibble: 34,724 x 18
##    case_id activity  lifecycle resource timestamp           amount article
##    &lt;chr&gt;   &lt;fct&gt;     &lt;fct&gt;     &lt;fct&gt;    &lt;dttm&gt;               &lt;dbl&gt;   &lt;int&gt;
##  1 A1      Create F~ complete  561      2006-07-24 00:00:00   350.     157
##  2 A1      Send Fine complete  &lt;NA&gt;     2006-12-05 00:00:00    NA       NA
##  3 A100    Create F~ complete  561      2006-08-02 00:00:00   350.     157
##  4 A100    Send Fine complete  &lt;NA&gt;     2006-12-12 00:00:00    NA       NA
##  5 A100    Insert F~ complete  &lt;NA&gt;     2007-01-15 00:00:00    NA       NA
##  6 A100    Add pena~ complete  &lt;NA&gt;     2007-03-16 00:00:00   715.      NA
##  7 A100    Send for~ complete  &lt;NA&gt;     2009-03-30 00:00:00    NA       NA
##  8 A10000  Create F~ complete  561      2007-03-09 00:00:00   360.     157
##  9 A10000  Send Fine complete  &lt;NA&gt;     2007-07-17 00:00:00    NA       NA
## 10 A10000  Insert F~ complete  &lt;NA&gt;     2007-08-02 00:00:00    NA       NA
## # ... with 34,714 more rows, and 11 more variables: dismissal &lt;chr&gt;,
## #   expense &lt;dbl&gt;, lastsent &lt;chr&gt;, matricola &lt;chr&gt;,
## #   notificationtype &lt;chr&gt;, paymentamount &lt;dbl&gt;, points &lt;int&gt;,
## #   totalpaymentamount &lt;chr&gt;, vehicleclass &lt;chr&gt;,
## #   activity_instance_id &lt;chr&gt;, .order &lt;int&gt;</code></pre>
</div>
<div id="using-set-functions" class="section level2">
<h2>Using <code>set</code> functions</h2>
<p>If we only want to change one of the elements, as in the example above, the <code>set</code> function provide a very convenient way to do so. The same change as before can be done as follows.</p>
<pre class="r"><code>traffic_fines %&gt;%
    set_case_id(&quot;vehicleclass&quot;)</code></pre>
<pre><code>## Event log consisting of:
## 34724 events
## 4 traces
## 4 cases
## 11 activities
## 34724 activity instances
## 
## # A tibble: 34,724 x 18
##    case_id activity  lifecycle resource timestamp           amount article
##    &lt;chr&gt;   &lt;fct&gt;     &lt;fct&gt;     &lt;fct&gt;    &lt;dttm&gt;               &lt;dbl&gt;   &lt;int&gt;
##  1 A1      Create F~ complete  561      2006-07-24 00:00:00   350.     157
##  2 A1      Send Fine complete  &lt;NA&gt;     2006-12-05 00:00:00    NA       NA
##  3 A100    Create F~ complete  561      2006-08-02 00:00:00   350.     157
##  4 A100    Send Fine complete  &lt;NA&gt;     2006-12-12 00:00:00    NA       NA
##  5 A100    Insert F~ complete  &lt;NA&gt;     2007-01-15 00:00:00    NA       NA
##  6 A100    Add pena~ complete  &lt;NA&gt;     2007-03-16 00:00:00   715.      NA
##  7 A100    Send for~ complete  &lt;NA&gt;     2009-03-30 00:00:00    NA       NA
##  8 A10000  Create F~ complete  561      2007-03-09 00:00:00   360.     157
##  9 A10000  Send Fine complete  &lt;NA&gt;     2007-07-17 00:00:00    NA       NA
## 10 A10000  Insert F~ complete  &lt;NA&gt;     2007-08-02 00:00:00    NA       NA
## # ... with 34,714 more rows, and 11 more variables: dismissal &lt;chr&gt;,
## #   expense &lt;dbl&gt;, lastsent &lt;chr&gt;, matricola &lt;chr&gt;,
## #   notificationtype &lt;chr&gt;, paymentamount &lt;dbl&gt;, points &lt;int&gt;,
## #   totalpaymentamount &lt;chr&gt;, vehicleclass &lt;chr&gt;,
## #   activity_instance_id &lt;chr&gt;, .order &lt;int&gt;</code></pre>
</div>
<div id="using-existing-mapping" class="section level2">
<h2>Using existing mapping</h2>
<p>It is also poosible to take a snapshot of the eventlog mapping at a certain point in time, and reuse this later. A mapping can be extracted using the <code>mapping</code> function.</p>
<pre class="r"><code>mapping_fines &lt;- mapping(traffic_fines)
mapping_fines</code></pre>
<pre><code>## Case identifier:     case_id 
## Activity identifier:     activity 
## Resource identifier:     resource 
## Activity instance identifier:    activity_instance_id 
## Timestamp:           timestamp 
## Lifecycle transition:        lifecycle</code></pre>
<p>We can than adjust the mapping incrementally by using the approaches above.</p>
<pre class="r"><code>traffic_fines %&gt;%
    set_case_id(&quot;vehicleclass&quot;) %&gt;%
    set_activity_id(&quot;notificationtype&quot;) -&gt; traffic_fines</code></pre>
<p>Later, we can undo these changes and “reset” the original mapping using the <code>re_map</code> function.</p>
<pre class="r"><code>traffic_fines %&gt;%
    re_map(mapping_fines)</code></pre>
<pre><code>## Event log consisting of:
## 34724 events
## 44 traces
## 10000 cases
## 11 activities
## 34724 activity instances
## 
## # A tibble: 34,724 x 18
##    case_id activity  lifecycle resource timestamp           amount article
##    &lt;chr&gt;   &lt;fct&gt;     &lt;fct&gt;     &lt;fct&gt;    &lt;dttm&gt;               &lt;dbl&gt;   &lt;int&gt;
##  1 A1      Create F~ complete  561      2006-07-24 00:00:00   350.     157
##  2 A1      Send Fine complete  &lt;NA&gt;     2006-12-05 00:00:00    NA       NA
##  3 A100    Create F~ complete  561      2006-08-02 00:00:00   350.     157
##  4 A100    Send Fine complete  &lt;NA&gt;     2006-12-12 00:00:00    NA       NA
##  5 A100    Insert F~ complete  &lt;NA&gt;     2007-01-15 00:00:00    NA       NA
##  6 A100    Add pena~ complete  &lt;NA&gt;     2007-03-16 00:00:00   715.      NA
##  7 A100    Send for~ complete  &lt;NA&gt;     2009-03-30 00:00:00    NA       NA
##  8 A10000  Create F~ complete  561      2007-03-09 00:00:00   360.     157
##  9 A10000  Send Fine complete  &lt;NA&gt;     2007-07-17 00:00:00    NA       NA
## 10 A10000  Insert F~ complete  &lt;NA&gt;     2007-08-02 00:00:00    NA       NA
## # ... with 34,714 more rows, and 11 more variables: dismissal &lt;chr&gt;,
## #   expense &lt;dbl&gt;, lastsent &lt;chr&gt;, matricola &lt;chr&gt;,
## #   notificationtype &lt;fct&gt;, paymentamount &lt;dbl&gt;, points &lt;int&gt;,
## #   totalpaymentamount &lt;chr&gt;, vehicleclass &lt;chr&gt;,
## #   activity_instance_id &lt;chr&gt;, .order &lt;int&gt;</code></pre>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
